<div class="title-holder">
  <h2 class="text-uppercase">{{ "homePage.stories.title" | translate }}</h2>
</div>
<div class="card-container flex justify-content-center">
  <p-card *ngFor="let story of data" class="card" [header]="story.title">
    <p>
      {{ story.description | truncateText: 50 }}
    </p>
    <ng-template pTemplate="footer">
      <button
        class="purple-button"
        (click)="showDialog(story.title, story.description)"
      >
        {{ "homePage.stories.story.button" | translate }}
      </button>
    </ng-template>
  </p-card>
</div>

<div class="buttons-holder gap-4">
  <button class="purple-button" (click)="redirectToStories()">
    {{ "homePage.stories.buttons.more" | translate }}
  </button>
  <button class="white-button" (click)="showForm()">
    {{ "homePage.stories.buttons.add" | translate }}
  </button>
</div>

<p-dialog
  header="{{ storyTitle }}"
  [(visible)]="visible"
  [style]="{ maxWidth: '70vw', maxHeight: '400px' }"
>
  <p>
    {{ storyDescription }}
  </p>
</p-dialog>

<p-dialog
  header="{{ 'homePage.stories.dialog.header' | translate }}"
  [(visible)]="formVisible"
  [style]="{ maxWidth: '70vw', maxHeight: '500px' }"
>
  <div class="card flex justify-content-center">
    <span class="p-float-label">
      <input pInputText id="title" [(ngModel)]="storyTitle" />
      <label htmlFor="title">{{
        "homePage.stories.dialog.title" | translate
      }}</label>
    </span>
    <span class="p-float-label">
      <textarea
        id="float-input"
        pInputTextarea
        [(ngModel)]="storyDescription"
      ></textarea>
      <label for="float-input">
        {{ "homePage.stories.dialog.content" | translate }}
      </label>
      <p class="error">{{ error }}</p>
    </span>
    <button class="purple-button" (click)="addStory()">
      {{ "homePage.stories.dialog.button" | translate }}
    </button>
  </div>
</p-dialog>

<div *ngIf="alert">
  <p-messages
    [(value)]="messages1"
    [enableService]="false"
    [closable]="true"
  ></p-messages>
</div>
